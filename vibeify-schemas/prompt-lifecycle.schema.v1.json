{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://vibeify.dev/schemas/prompt-lifecycle.schema.v1.json",
  "title": "Vibeify Prompt Lifecycle Schema v1",
  "description": "Defines the lifecycle state and governance metadata for a prompt.",
  "type": "object",
  "required": [
    "status"
  ],
  "properties": {
    "status": {
      "type": "string",
      "description": "Current lifecycle status of the prompt.",
      "enum": [
        "draft",
        "review",
        "approved",
        "deprecated",
        "archived"
      ]
    },

    "reviewedBy": {
      "type": "array",
      "description": "Actors who have reviewed this prompt.",
      "items": {
        "type": "string",
        "enum": [
          "human",
          "ai"
        ]
      },
      "default": []
    },

    "approvedBy": {
      "type": "string",
      "description": "Identifier of the human or system that approved this prompt.",
      "minLength": 1
    },

    "lastReviewedAt": {
      "type": "string",
      "description": "ISO timestamp of the most recent review.",
      "format": "date-time"
    },

    "lastApprovedAt": {
      "type": "string",
      "description": "ISO timestamp of approval.",
      "format": "date-time"
    },

    "supersedes": {
      "type": "string",
      "description": "PromptId of the prompt version this one replaces."
    },

    "notes": {
      "type": "string",
      "description": "Optional human-readable notes about lifecycle decisions."
    }
  },
  "additionalProperties": false
}