version: 1
description: Example relational schema for a simple user entity.

entities:
  user:
    table: users
    columns:
      id:
        type: uuid
        primary_key: true
        generated: true
      email:
        type: varchar(255)
        unique: true
        nullable: false
      name:
        type: varchar(255)
        nullable: false
      phone:
        type: varchar(32)
        nullable: true
      created_at:
        type: timestamp
        nullable: false
        default: now()
      updated_at:
        type: timestamp
        nullable: true

constraints:
  - name: users_email_unique
    type: unique
    columns: [email]
  - name: users_pk
    type: primary_key
    columns: [id]

indexes:
  - name: idx_users_email
    columns: [email]
    unique: true

notes:
  - Email is the primary logical identifier for a user in most flows.
  - Additional domainâ€‘specific fields (roles, flags, settings) can be added
    by extending this schema in the host project.
