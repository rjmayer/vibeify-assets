metadata:
  templateId: "fun.limerick"
  title: "Limerick Generator"
  description: >
    Specialised template for generating traditional limericks.
    Inherits all-purpose and adds optional domain knobs.
  version: "1.0.0"

extends: "../all-purpose/all-purpose.template.v1.yaml"

placeholders:
  # Added domain knobs (optional)
  PROTAGONIST:
    type: string
    required: false
    description: Optional protagonist to include naturally in line 1.

  ORIGIN:
    type: string
    required: false
    description: Optional place of origin to include naturally in line 1.

# Template section overrides to specialize for limericks
template:
  context_layer:
    override: true
    text: |
      ## Context Layer (What the model must know)

      Domain knobs (omit if blank):
      - PROTAGONIST: {{PROTAGONIST}}
      - ORIGIN: {{ORIGIN}}

  execution_layer:
    override: true
    text: |
      ## Execution Layer (Final Instruction)

      **Final Instruction:**
      {{FINAL_INSTRUCTION}}

      Optional domain knobs (use only if provided):
      - If PROTAGONIST is not null, weave it naturally into line 1.
      - If ORIGIN is not null, weave it naturally into line 1.
      - If either is null, do not mention that it was omitted.
