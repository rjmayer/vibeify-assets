extends: ../all-purpose/all-purpose.template.v1.yaml

metadata:
  templateId: "fun.limerick.template.v1"
  title: "Limerick Generator"
  description: >
    Specialised template for generating traditional limericks.
    Extends all-purpose and adds optional domain knobs.
  version: "1.0.0"

placeholders:
  # Added domain knobs (optional)
  PROTAGONIST:
    type: string
    required: false
    description: Optional protagonist to include naturally in line 1.

  ORIGIN:
    type: string
    required: false
    description: Optional place of origin to include naturally in line 1.

template:
  # Override the execution layer to add limerick-specific instructions
  execution_layer:
    override: true
    text: |
      ## Execution Layer (Final Instruction)

      **Final Instruction"
      {{FINAL_INSTRUCTION}}

      Optional domain knobs (use only if provided):
      - If PROTAGONIST is not null, weave it naturally into line 1.
      - If ORIGIN is not null, weave it naturally into line 1.
      - If either is null, do not mention that it was omitted.
